<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Image</title>
</head>

<body>
    <input type="file" id="fileInput" accept="image/*"> <!-- Input để chọn tệp ảnh -->
    <button id="uploadButton" onclick="main()">Upload Image</button> <!-- Nút để tải lên ảnh -->

    <script>
 const url = 'https://likeanimalslife.com/?p=7809';

// Function to make a GET request
function fetchPage(url) {
    return fetch(url)
        .then(response => response.text());
}
// Main function to fetch page, extract content, and display it
function main() {
    fetchPage(url)
        .then(html => {
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            const title = doc.querySelector('h1.entry-title').textContent.trim();
            const content = doc.querySelector('.entry-content').innerHTML.trim();

            console.log(content)

        })
        .catch(error => {
            console.error('Error:', error);
        });
}

        document.getElementById('uploadButton').addEventListener('click', async () => {

           





            // const fileInput = document.getElementById('fileInput');
            // const file = fileInput.files[0];
            // if (!file) {
            //     alert('Please select an image file.');
            //     return;
            // }

            // const login = 'an123456';
            // const password = 'an@123456';
            // const basicAuth = 'Basic ' + btoa(login + ':' + password);

            // const formData = new FormData();
            // formData.append('file', file);

            // // Đăng hình ảnh lên wordpress để lấy ID hình ảnh dùng cho bài đăng
            // try {
            //     const response = await fetch('https://wiki.bkafoods.com/wp-json/wp/v2/media', {
            //         method: 'POST',
            //         headers: {
            //             'Authorization': basicAuth,
            //         },
            //         body: formData,
            //     });

            //     if (response.ok) {
            //         const responseData = await response.json();
            //         if (responseData.id) {
            //             const featuredImageId = responseData.id;
            //             console.log('Featured image ID:', featuredImageId);
            //             Post(responseData.id)
            //         } else {
            //             console.error('Failed to upload media:', responseData);
            //         }
            //     } else {
            //         console.error('Failed to upload media:', response.statusText);
            //     }
            // } catch (error) {
            //     console.error('Error:', error);
            // }

            // // Đăng bài có hình ảnh nổi bật lên wordpress
            // function Post(featuredImageId) {
            //     const postData = {
            //         title: 'My test',
            //         content: "",
            //         status: 'publish',
            //         featured_media: featuredImageId
            //     };

            //     fetch('https://wiki.bkafoods.com/wp-json/wp/v2/posts', {
            //         method: 'POST',
            //         headers: {
            //             'Authorization': basicAuth,
            //             'Content-Type': 'application/json',
            //         },
            //         body: JSON.stringify(postData)
            //     })
            //         .then(response => {
            //             if (response.ok) {
            //                 return response.json();
            //             } else {
            //                 throw new Error('Failed to create post');
            //             }
            //         })
            //         .then(data => {
            //             console.log('Post created with ID:', data.id);
            //         })
            //         .catch(error => {
            //             console.error('Error:', error.message);
            //         });
            // }
        });
    </script>
</body>

</html>